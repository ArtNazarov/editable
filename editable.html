<html>
<head>
<title>Editable</title>
<meta charset="utf8">
</head>
<body>
 <h1 class="editable" data-ent="0" data-edit="input"></h1>
 <p class="editable" data-ent="1" data-edit="textarea"></p>
 <script src="jquery.js"></script>
 <script>
 $(document).ready( ()=>{
 
 var fishText = `
 Повседневная практика показывает, что консультация с широким активом позволяет выполнять важные задания по разработке форм развития. Разнообразный и богатый опыт рамки и место обучения кадров влечет за собой процесс внедрения и модернизации системы обучения кадров, соответствует насущным потребностям. Идейные соображения высшего порядка, а также реализация намеченных плановых заданий позволяет выполнять важные задания по разработке систем массового участия. Таким образом начало повседневной работы по формированию позиции представляет собой интересный эксперимент проверки соответствующий условий активизации.

Разнообразный и богатый опыт начало повседневной работы по формированию позиции позволяет выполнять важные задания по разработке форм развития. Равным образом начало повседневной работы по формированию позиции влечет за собой процесс внедрения и модернизации соответствующий условий активизации. Разнообразный и богатый опыт реализация намеченных плановых заданий играет важную роль в формировании форм развития. С другой стороны сложившаяся структура организации позволяет выполнять важные задания по разработке соответствующий условий активизации. Таким образом дальнейшее развитие различных форм деятельности обеспечивает широкому кругу (специалистов) участие в формировании соответствующий условий активизации.

Идейные соображения высшего порядка, а также рамки и место обучения кадров в значительной степени обуславливает создание модели развития. Идейные соображения высшего порядка, а также консультация с широким активом играет важную роль в формировании новых предложений. Разнообразный и богатый опыт консультация с широким активом в значительной степени обуславливает создание систем массового участия.
 `;
 
// In common cases we receive values for Store from ajax request to database
// for educational pursposes I simplificate code and use predefinded array
// Also, in trackChanges you should  add call ajax request for posting values to database
 
 var Store = ['Header', fishText];
 var refresh = () => {
  $('.editable').each( function(i, e){
      $(e).text( Store[$(e).data('ent')]);
   });
 };
 var loadStore = ()=>{
   refresh();
 };
 var initUI = ()=>{
   $(".editable").each( (i, e)=>{
      switch( $(e).data('edit') ) {
        case 'input' : {$(e).before("<input type='text' id='ed"+i+"' data-ent='"+i+"' class='edit' value='"+$(e).text()+"'>"); break;};
        case 'textarea' : {$(e).before("<textarea cols='80' rows='20' id='ed"+i+"' data-ent='"+i+"' class='edit'>"+$(e).text()+"</textarea>"); break;};

      };
      
   });
   $(".edit").hide();
 };
 var trackChanges = () => {
 $('.edit').each( (i,e)=>{
     $(e).change( ()=> {
   console.log('change!');
   var edId = $(e).attr('id');
   console.log(edId);
   var ent = $(e).data('ent');
   var v = $(e).val();
   console.log(ent);
   console.log(v);
   Store[ent]=$(e).val();
   console.log(Store);
   $(e).hide(); $('.editable').show();
   refresh();
 });
  } );
 };
 
  var handlers = ()=>{
   $('.editable').each( (i,e)=>
     {
        $(e).dblclick( ()=> { 
            $(e).toggle(); 
            $('#ed'+$(e).data('ent')).toggle(); 
            });
     });
  };
 
 
   loadStore();
   initUI();
   trackChanges();
   handlers();
 });
 </script>